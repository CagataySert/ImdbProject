{"version":3,"file":"static/webpack/static\\development\\pages\\other.js.452bd5211c276749c0d4.hot-update.js","sources":["webpack:///./serverApi_LocalStorage.js"],"sourcesContent":["import fetch from 'isomorphic-unfetch'\r\nimport { KEY } from './constants/constants.js';\r\n\r\nclass LocalStorageApi {\r\n\r\n    addFilmToFavorite = (title, year, poster, filmId) => {\r\n        return new Promise((resolve, reject) => {\r\n\r\n            const response = localStorage.getItem(KEY);\r\n\r\n            if (!!response) {\r\n                console.log('if response:', response);\r\n\r\n                let filmArray = JSON.parse(response);\r\n                filmArray.push(filmId);\r\n                console.log(filmId);\r\n\r\n\r\n                localStorage.setItem(KEY, JSON.stringify(filmArray));\r\n                console.log(filmArray);\r\n\r\n                resolve();\r\n            }\r\n            else {\r\n                localStorage.setItem(KEY, JSON.stringify([{ title, year, poster, filmId }]));\r\n                console.log('else', response, 'filmId', filmId);\r\n\r\n                resolve();\r\n            }\r\n        });\r\n    }\r\n\r\n    getFavorites = () => {\r\n        return new Promise((resolve, reject) => {\r\n            const response = localStorage.getItem(KEY);\r\n            const filmArray = JSON.parse(response);\r\n\r\n            !!response === true\r\n                ? resolve(filmArray)\r\n                : resolve(null);\r\n        });\r\n    }\r\n\r\n}\r\n\r\nconst local_api = new LocalStorageApi();\r\nexport default local_api;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;;;AAEA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AACA;;;AAIA;AACA;;;;A","sourceRoot":""}