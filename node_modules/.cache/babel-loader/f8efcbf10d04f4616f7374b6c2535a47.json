{"ast":null,"code":"import _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport _Promise from \"@babel/runtime-corejs2/core-js/promise\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport fetch from 'isomorphic-unfetch';\nimport { KEY } from './constants/constants.js';\n\nvar LocalStorageApi = function LocalStorageApi() {\n  _classCallCheck(this, LocalStorageApi);\n\n  this.addFilmToFavorite = function (filmId) {\n    return new _Promise(function (resolve, reject) {\n      var response = localStorage.getItem(KEY);\n\n      if (!!response) {\n        console.log('birincş');\n        var filmArray = JSON.parse(response);\n        console.log(filmArray);\n        filmArray.push(filmId);\n        console.log(filmArray);\n        localStorage.setItem(KEY, _JSON$stringify(filmArray));\n        resolve();\n      }\n\n      console.log('ikinci');\n      localStorage.setItem(KEY, _JSON$stringify([filmId]));\n      resolve();\n    });\n  };\n};\n\nvar local_api = new LocalStorageApi();\nexport default local_api;","map":{"version":3,"sources":["C:\\Users\\cagat\\OneDrive\\Desktop\\Imdb\\serverApi_LocalStorage.js"],"names":["fetch","KEY","LocalStorageApi","addFilmToFavorite","filmId","resolve","reject","response","localStorage","getItem","console","log","filmArray","JSON","parse","push","setItem","local_api"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,oBAAlB;AACA,SAASC,GAAT,QAAoB,0BAApB;;IAEMC,e;;;OAEFC,iB,GAAoB,UAACC,MAAD,EAAY;AAC5B,WAAO,aAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AAEpC,UAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqBR,GAArB,CAAjB;;AAEA,UAAI,CAAC,CAACM,QAAN,EAAgB;AACZG,QAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AAEA,YAAIC,SAAS,GAAGC,IAAI,CAACC,KAAL,CAAWP,QAAX,CAAhB;AACAG,QAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ;AAEAA,QAAAA,SAAS,CAACG,IAAV,CAAeX,MAAf;AACAM,QAAAA,OAAO,CAACC,GAAR,CAAYC,SAAZ;AAEAJ,QAAAA,YAAY,CAACQ,OAAb,CAAqBf,GAArB,EAA0B,gBAAeW,SAAf,CAA1B;AACAP,QAAAA,OAAO;AACV;;AACDK,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AAEAH,MAAAA,YAAY,CAACQ,OAAb,CAAqBf,GAArB,EAA0B,gBAAe,CAACG,MAAD,CAAf,CAA1B;AACAC,MAAAA,OAAO;AACV,KApBM,CAAP;AAqBH,G;;;AAIL,IAAMY,SAAS,GAAG,IAAIf,eAAJ,EAAlB;AACA,eAAee,SAAf","sourcesContent":["import fetch from 'isomorphic-unfetch'\r\nimport { KEY } from './constants/constants.js';\r\n\r\nclass LocalStorageApi {\r\n\r\n    addFilmToFavorite = (filmId) => {\r\n        return new Promise((resolve, reject) => {\r\n\r\n            const response = localStorage.getItem(KEY);\r\n\r\n            if (!!response) {\r\n                console.log('birincş');\r\n\r\n                let filmArray = JSON.parse(response);\r\n                console.log(filmArray);\r\n\r\n                filmArray.push(filmId);\r\n                console.log(filmArray);\r\n\r\n                localStorage.setItem(KEY, JSON.stringify(filmArray));\r\n                resolve();\r\n            }\r\n            console.log('ikinci');\r\n\r\n            localStorage.setItem(KEY, JSON.stringify([filmId]));\r\n            resolve();\r\n        });\r\n    }\r\n\r\n}\r\n\r\nconst local_api = new LocalStorageApi();\r\nexport default local_api;"]},"metadata":{},"sourceType":"module"}